
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JARVIS MARK-I</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { margin: 0; overflow: hidden; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes slideIn { from { width: 0; } to { width: 100%; } }
        @keyframes sweep { from { transform: translateX(-100%); } to { transform: translateX(200%); } }
        @keyframes float { 0%, 100% { transform: translateY(0px); } 50% { transform: translateY(-20px); } }
        @keyframes scan { 0%, 100% { opacity: 0.1; } 50% { opacity: 0.4; } }
        @keyframes rotateCore { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
        .animate-spin-slow { animation: rotateCore 3s linear infinite; }
        .float { animation: float 3s ease-in-out infinite; }
        .scan-line { animation: scan 2s ease-in-out infinite; }
        .mode-normal { background: linear-gradient(135deg, #0a0e27 0%, #000 50%, #0c1445 100%); }
        .mode-alert { background: linear-gradient(135deg, #2d0a0a 0%, #000 50%, #451a0a 100%); }
        .mode-developer { background: linear-gradient(135deg, #0a2d0a 0%, #000 50%, #0a4514 100%); }
        .mode-silent { background: linear-gradient(135deg, #1a0a2d 0%, #000 50%, #2d0a45 100%); }
        .mode-night { background: linear-gradient(135deg, #0a1a2d 0%, #000 50%, #0a2d45 100%); }
        .mode-safe { background: linear-gradient(135deg, #2d2d0a 0%, #000 50%, #45450a 100%); }
    </style>
</head>
<body class="mode-normal" id="mainBody">
    <div id="splashScreen" class="fixed inset-0 z-50 flex items-center justify-center">
        <div id="splashContent" class="text-center">
            <div class="w-4 h-4 bg-cyan-400 rounded-full animate-pulse shadow-2xl shadow-cyan-500 mx-auto">
                <div class="absolute inset-0 rounded-full bg-cyan-400 animate-ping"></div>
            </div>
        </div>
    </div>

    <div id="mainInterface" class="hidden relative z-10 h-screen flex flex-col">
        <!-- Top Bar -->
        <div id="topBar" class="border-b border-cyan-900/50 bg-black/40 backdrop-blur-sm transition-all duration-500">
            <div class="px-6 py-4">
                <div class="flex items-center justify-between">
                    <div class="flex items-center space-x-4">
                        <div class="relative">
                            <div class="w-12 h-12 rounded-full border-2 border-cyan-500 flex items-center justify-center">
                                <svg class="w-6 h-6 text-cyan-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                                </svg>
                            </div>
                            <div class="absolute inset-0 rounded-full bg-cyan-500 opacity-20 animate-pulse"></div>
                        </div>
                        <div>
                            <div class="text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-blue-400">SINGH INDUSTRIES</div>
                            <div id="modeText" class="text-xs text-cyan-500 tracking-wider uppercase">NORMAL MODE - JARVIS MARK-I</div>
                        </div>
                        <div class="ml-4 flex items-center space-x-2">
                            <div id="statusDot" class="w-2 h-2 rounded-full bg-green-500 animate-pulse"></div>
                            <span class="text-xs text-cyan-400" id="statusText">ONLINE</span>
                        </div>
                    </div>
                    <div class="flex items-center space-x-4">
                        <button id="micToggle" class="p-3 rounded-lg border border-cyan-700/50 bg-cyan-900/30 hover:bg-cyan-900/50 transition-all">
                            <svg class="w-5 h-5 text-cyan-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"></path>
                            </svg>
                        </button>
                        <button id="jarvisToggle" class="p-3 rounded-lg border border-cyan-700/50 bg-cyan-900/30 hover:bg-cyan-900/50 transition-all">
                            <svg class="w-5 h-5 text-cyan-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z"></path>
                            </svg>
                        </button>
                        <div id="clock" class="text-cyan-400 font-mono text-sm"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Main Content -->
        <div class="flex-1 grid grid-cols-12 gap-4 p-6 overflow-hidden">
            <!-- Logs -->
            <div class="col-span-3">
                <div class="bg-black/60 backdrop-blur-sm border border-cyan-900/50 rounded-lg p-4 h-full overflow-hidden flex flex-col">
                    <h3 class="text-cyan-400 font-semibold text-sm mb-3">SYSTEM LOGS</h3>
                    <div id="logContainer" class="flex-1 overflow-y-auto space-y-2"></div>
                </div>
            </div>

            <!-- Core -->
            <div class="col-span-6 flex items-center justify-center">
                <div class="relative w-96 h-96">
                    <svg class="w-full h-full" viewBox="0 0 400 400">
                        <circle cx="200" cy="200" r="190" fill="none" stroke="#06b6d4" stroke-width="2" opacity="0.3">
                            <animateTransform attributeName="transform" type="rotate" from="0 200 200" to="360 200 200" dur="3s" repeatCount="indefinite"/>
                        </circle>
                        <circle cx="200" cy="200" r="150" fill="none" stroke="#06b6d4" stroke-width="2" opacity="0.5">
                            <animateTransform attributeName="transform" type="rotate" from="360 200 200" to="0 200 200" dur="4s" repeatCount="indefinite"/>
                        </circle>
                        <circle cx="200" cy="200" r="80" fill="url(#coreGradient)" opacity="0.2"/>
                        <defs>
                            <radialGradient id="coreGradient">
                                <stop offset="0%" style="stop-color:#06b6d4;stop-opacity:0.3" />
                                <stop offset="100%" style="stop-color:#3b82f6;stop-opacity:0.1" />
                            </radialGradient>
                        </defs>
                        <g transform="translate(200, 200)">
                            <circle r="5" fill="#06b6d4">
                                <animate attributeName="r" values="5;8;5" dur="2s" repeatCount="indefinite"/>
                            </circle>
                        </g>
                    </svg>
                    <div id="coreStatus" class="absolute -bottom-12 left-0 right-0 text-center">
                        <div class="text-cyan-400 text-sm font-semibold uppercase">STANDBY</div>
                        <div class="text-cyan-600 text-xs mt-1">Neural Core Active</div>
                    </div>
                </div>
            </div>

            <!-- Controls -->
            <div class="col-span-3 space-y-4 overflow-y-auto">
                <div class="bg-black/60 backdrop-blur-sm border border-cyan-900/50 rounded-lg p-4">
                    <h3 class="text-cyan-400 font-semibold text-sm mb-4">SYSTEM STATUS</h3>
                    <div class="space-y-4">
                        <div>
                            <div class="flex justify-between text-xs text-cyan-400 mb-2">
                                <span>CPU</span><span id="cpuValue">45%</span>
                            </div>
                            <div class="w-full h-2 bg-gray-800 rounded-full overflow-hidden">
                                <div id="cpuBar" class="h-full bg-gradient-to-r from-cyan-500 to-blue-500 transition-all" style="width: 45%"></div>
                            </div>
                        </div>
                        <div>
                            <div class="flex justify-between text-xs text-cyan-400 mb-2">
                                <span>MEMORY</span><span id="memValue">62%</span>
                            </div>
                            <div class="w-full h-2 bg-gray-800 rounded-full overflow-hidden">
                                <div id="memBar" class="h-full bg-gradient-to-r from-green-500 to-cyan-500 transition-all" style="width: 62%"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="bg-black/60 backdrop-blur-sm border border-cyan-900/50 rounded-lg p-4">
                    <h3 class="text-cyan-400 font-semibold text-sm mb-4">OPERATION MODES</h3>
                    <div class="grid grid-cols-2 gap-2">
                        <button onclick="changeMode('normal')" class="px-3 py-2 bg-cyan-900/30 border border-cyan-700/50 rounded text-cyan-400 text-xs hover:bg-cyan-900/50 transition-all">Normal</button>
                        <button onclick="changeMode('alert')" class="px-3 py-2 bg-red-900/30 border border-red-700/50 rounded text-red-400 text-xs hover:bg-red-900/50 transition-all">Alert</button>
                        <button onclick="changeMode('developer')" class="px-3 py-2 bg-green-900/30 border border-green-700/50 rounded text-green-400 text-xs hover:bg-green-900/50 transition-all">Developer</button>
                        <button onclick="changeMode('silent')" class="px-3 py-2 bg-purple-900/30 border border-purple-700/50 rounded text-purple-400 text-xs hover:bg-purple-900/50 transition-all">Silent</button>
                        <button onclick="changeMode('night')" class="px-3 py-2 bg-blue-900/30 border border-blue-700/50 rounded text-blue-400 text-xs hover:bg-blue-900/50 transition-all">Night</button>
                        <button onclick="changeMode('safe')" class="px-3 py-2 bg-yellow-900/30 border border-yellow-700/50 rounded text-yellow-400 text-xs hover:bg-yellow-900/50 transition-all">Safe</button>
                    </div>
                </div>

                <div class="bg-black/60 backdrop-blur-sm border border-cyan-900/50 rounded-lg p-4">
                    <h3 class="text-cyan-400 font-semibold text-sm mb-4">VOICE COMMAND</h3>
                    <input id="voiceInput" type="text" placeholder="Type command..." 
                           class="w-full px-3 py-2 bg-gray-900/50 border border-cyan-700/50 rounded text-cyan-400 text-sm focus:outline-none focus:border-cyan-500">
                    <button onclick="sendCommand()" class="w-full mt-2 px-3 py-2 bg-cyan-900/30 border border-cyan-700/50 rounded text-cyan-400 text-xs hover:bg-cyan-900/50 transition-all">
                        EXECUTE
                    </button>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <div class="border-t border-cyan-900/50 bg-black/40 backdrop-blur-sm">
            <div class="px-6 py-3 text-center">
                <div class="text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 via-blue-400 to-cyan-400 text-sm font-light animate-pulse">
                    Designed & Engineered by Mr. Prabhnoor Singh | Singh Industries
                </div>
            </div>
        </div>
    </div>

    <script>
        const modes = {
            normal: { class: 'mode-normal', text: 'NORMAL MODE', color: '#06b6d4' },
            alert: { class: 'mode-alert', text: 'ALERT MODE', color: '#ef4444' },
            developer: { class: 'mode-developer', text: 'DEVELOPER MODE', color: '#10b981' },
            silent: { class: 'mode-silent', text: 'SILENT MODE', color: '#a855f7' },
            night: { class: 'mode-night', text: 'NIGHT MODE', color: '#3b82f6' },
            safe: { class: 'mode-safe', text: 'SAFE MODE', color: '#eab308' }
        };

        let micMuted = false;
        let jarvisMuted = false;

        // Python API Bridge
        const api = window.pywebview ? window.pywebview.api : null;

        function addLog(message, type = 'info') {
            const colors = {
                info: 'text-cyan-400', success: 'text-green-400',
                warning: 'text-yellow-400', error: 'text-red-400', user: 'text-blue-400'
            };
            const timestamp = new Date().toLocaleTimeString();
            const container = document.getElementById('logContainer');
            const log = document.createElement('div');
            log.className = 'text-xs font-mono';
            log.innerHTML = `<span class="text-gray-500">[${timestamp}]</span> <span class="${colors[type]}">${message}</span>`;
            container.appendChild(log);
            container.scrollTop = container.scrollHeight;
        }

        function changeMode(mode) {
            const config = modes[mode];
            document.body.className = config.class;
            document.getElementById('modeText').textContent = `${config.text} - JARVIS MARK-I`;
            addLog(`Mode changed to: ${config.text}`, 'info');
            if (api) api.change_mode(mode);
        }

        document.getElementById('micToggle').addEventListener('click', function() {
            micMuted = !micMuted;
            addLog(micMuted ? 'Microphone MUTED' : 'Microphone UNMUTED', micMuted ? 'warning' : 'success');
            if (api) api.toggle_mic(micMuted);
        });

        document.getElementById('jarvisToggle').addEventListener('click', function() {
            jarvisMuted = !jarvisMuted;
            addLog(jarvisMuted ? 'JARVIS voice MUTED' : 'JARVIS voice UNMUTED', jarvisMuted ? 'warning' : 'success');
            if (api) api.toggle_jarvis(jarvisMuted);
        });

        function sendCommand() {
            const input = document.getElementById('voiceInput');
            const command = input.value.trim();
            if (command && api) {
                addLog(`User: ${command}`, 'user');
                api.process_command(command);
                input.value = '';
            }
        }

        document.getElementById('voiceInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') sendCommand();
        });

        function updateClock() {
            document.getElementById('clock').textContent = new Date().toLocaleTimeString();
        }
        setInterval(updateClock, 1000);
        updateClock();

        // Boot sequence
        setTimeout(() => {
            document.getElementById('splashContent').innerHTML = '<div class="text-7xl font-bold tracking-[0.5em] text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-blue-400">SINGH</div><div class="text-5xl font-light text-cyan-300 tracking-[0.3em] mt-2">INDUSTRIES</div>';
        }, 1000);

        setTimeout(() => {
            document.getElementById('splashContent').innerHTML = '<div class="text-8xl font-bold tracking-widest text-transparent bg-clip-text bg-gradient-to-b from-cyan-400 to-blue-600">JARVIS</div><div class="text-2xl text-cyan-400 font-light tracking-[0.5em] mt-4">MARK-I</div>';
        }, 2500);

        setTimeout(() => {
            document.getElementById('splashScreen').classList.add('hidden');
            document.getElementById('mainInterface').classList.remove('hidden');
            addLog('JARVIS MARK-I initialized successfully', 'success');
            addLog('All systems operational', 'success');
            addLog('Created by Singh Industries - Mr. Prabhnoor Singh', 'info');
        }, 4000);

        // Listen for updates from Python
        window.addEventListener('pywebviewready', function() {
            if (api) {
                api.on_log = addLog;
                api.on_mode_change = changeMode;
                api.on_status_update = function(data) {
                    if (data.cpu) {
                        document.getElementById('cpuValue').textContent = data.cpu + '%';
                        document.getElementById('cpuBar').style.width = data.cpu + '%';
                    }
                    if (data.mem) {
                        document.getElementById('memValue').textContent = data.mem + '%';
                        document.getElementById('memBar').style.width = data.mem + '%';
                    }
                    if (data.state) {
                        document.getElementById('coreStatus').innerHTML = 
                            `<div class="text-cyan-400 text-sm font-semibold uppercase">${data.state}</div><div class="text-cyan-600 text-xs mt-1">Neural Core Active</div>`;
                    }
                };
            }
        });
    </script>
</body>
</html>
